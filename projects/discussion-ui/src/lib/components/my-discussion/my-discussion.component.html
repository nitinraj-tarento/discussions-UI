<lib-app-loader *ngIf="showLoader"></lib-app-loader>

<div class="my-discussion">
    <div class="profileCard">
      <div class="profilecard-content">
      <div class="profile-header-image">
        <span class="box-text"><span class="circle-label"></span>{{ data?.username | splitInitials }}</span>
      </div>
      <div class="info">
        <div class="profile-name" [innerHTML]="data?.username"></div>
        <div class="profile-label department_name">{{data?.department}}</div>
        <div class="profile-label location_name">{{data?.location}} </div>
        <div class='profile-label'>{{data?.email || data?.username}}</div>
        <div>
          <div class="profile-data">
            <div>
              <span>
                <span class="number">{{data?.topiccount || 0 }}</span>
                <span class="labels">Discussions</span>
              </span>
              <span class="post-count-area">
                <span class="number">{{data?.postcount || 0 }}</span>
                <span class="labels">Posts</span>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>

  <ng-container>
    <div class="recent-tabs">
      <div class="tabs-content">
        <div class="tabs-filter">
          <a href="javascript:void(0)" role="button" class="filter-option df-filter-option" [ngClass]="{'tabs-active' : currentFilter === 'timestamp',
                              ' font-medium':currentFilter !== 'timestamp'}"
            (click)="filter('timestamp');logTelemetry($event)" id="recent-post">
            Recent posts </a>
          <a href="javascript:void(0)" role="button" class="filter-option df-filter-option" [ngClass]="{'tabs-active' : currentFilter === 'best',
                              ' font-medium':currentFilter !== 'best'}" (click)="filter('best');logTelemetry($event)" id="best-post">
            Best posts </a> 
          <a href="javascript:void(0)" role="button" class="filter-option df-filter-option" [ngClass]="{'tabs-active' : currentFilter === 'saved',
                                          ' font-medium':currentFilter !== 'saved'}"
            (click)="filter('saved');logTelemetry($event)" id="saved-post">
            Saved posts </a>
          <!-- <a href="javascript:void(0)" role="button" class="filter-option df-filter-option" [ngClass]="{'-active' : currentFilter === 'watched',
                                            ' font-medium':currentFilter !== 'watched'}" mat-button
            (click)="filter('watched')">
            Watched </a> -->
          <a href="javascript:void(0)" role="button" class="filter-option df-filter-option" [ngClass]="{'tabs-active' : currentFilter === 'upvoted',
                                              ' font-medium':currentFilter !== 'upvoted'}"
            (click)="filter('upvoted');logTelemetry($event)" id="upvoted-post">
            Upvoted </a>
          <a href="javascript:void(0)" role="button" class="filter-option df-filter-option" [ngClass]="{'tabs-active' : currentFilter === 'downvoted',
                                                ' font-medium':currentFilter !== 'downvoted'}"
            (click)="filter('downvoted');logTelemetry($event)" id="downvoted-post">
            Downvoted </a>
        </div>
      </div>
    </div>
  </ng-container>
  <div *ngIf="discussionList && discussionList.length > 0" class="margin-top-l">
    <ng-container *ngFor="let data of discussionList">
      <div (click)="navigateToDiscussionDetails(data);logTelemetry($event)" id="discuss-card" class="margin-top-l">
        <lib-discuss-card [discussionData]="data"></lib-discuss-card>
      </div>
    </ng-container>
  </div>
  <ng-container *ngIf="!(discussionList && discussionList.length > 0)">
    <div class="discuss-card-content cursor-pointer">
        <div class="no-data-label">No Data</div>
      <div>
        <span>&nbsp;</span>
      </div>
    </div>
  </ng-container>
</div>